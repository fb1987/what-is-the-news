:root {
  --bg: #000; --green: #00ff41; --head: #baffc9;
  --ui-glow: rgba(0,255,65,.65);
}
* { box-sizing: border-box; }
html, body { margin: 0; height: 100%; background: var(--bg); overflow: hidden; }
#gl { display: block; width: 100vw; height: 100vh; }

/* Honor the hidden attribute and keep it above the canvas when shown */
[hidden] { display: none !important; }
#gl { position: fixed; inset: 0; z-index: 0; }
#ui { z-index: 10; }
#modal { z-index: 20; }


/* UI pills */
#ui {
  position: fixed; left: 12px; right: 12px; bottom: 12px;
  display: flex; justify-content: space-between; pointer-events: none;
}
.pill {
  pointer-events: auto;
  font: 12px "IBM Plex Mono", ui-monospace, monospace;
  letter-spacing: .12em; color: #1f3; text-shadow: 0 0 8px var(--ui-glow);
  border: 1px solid rgba(0,255,65,.35);
  background: linear-gradient(180deg, rgba(0,0,0,.6), rgba(0,0,0,.2));
  padding: 6px 10px; border-radius: 8px; opacity: .85;
  box-shadow:
    0 0 12px rgba(0,255,65,.15),
    inset 0 0 10px rgba(0,255,65,.08);
  transition: transform .08s ease, opacity .2s ease, box-shadow .2s ease;
}
.pill:hover { transform: translateY(-1px); opacity: 1; box-shadow: 0 0 18px rgba(0,255,65,.25), inset 0 0 12px rgba(0,255,65,.12);}
#btn-rabbit { margin-right: auto; }
#btn-space  { margin-left: auto; }

/* Neon modal */
#modal {
  position: fixed; inset: 0; display: grid; place-items: center;
  background: radial-gradient(ellipse at center, rgba(0,0,0,.35), rgba(0,0,0,.85));
  backdrop-filter: blur(2px);
}
.window {
  width: min(820px, 92vw);
  border-radius: 12px;
  background: rgba(0,0,0,.6);
  border: 1px solid rgba(0,255,65,.25);
  box-shadow:
    0 0 24px rgba(0,255,65,.2),
    0 0 80px rgba(0,255,65,.08),
    inset 0 0 24px rgba(0,255,65,.12);
  color: #cfe; font: 14px/1.6 "IBM Plex Mono", ui-monospace, monospace;
}
.window::before {
  content: "";
  position: absolute; inset: -2px;
  border-radius: 14px;
  box-shadow: 0 0 60px rgba(0,255,65,.18), 0 0 160px rgba(0,255,65,.12);
  pointer-events: none;
}
.window-head {
  position: relative; display: flex; align-items: center; gap: 10px;
  padding: 10px 14px; border-bottom: 1px solid rgba(0,255,65,.18);
  background: linear-gradient(180deg, rgba(0,0,0,.7), rgba(0,0,0,.35))
  border-radius: 32px 32px 0px 0px;
}
.window-head .dot {
  width: 8px; height: 8px; border-radius: 999px !important;
  box-shadow: 0 0 10px rgba(0,255,65,.75), inset 0 0 8px rgba(0,255,65,.35);
  background: var(--green);
}
.window-head .title {
  margin-left: 6px; color: #9f9; letter-spacing: .12em;
  text-shadow: 0 0 8px rgba(0,255,65,.55);
  flex: 1;
}
#modal-close {
  color: #9f9; background: transparent; border: none; font-size: 20px; line-height: 1;
  text-shadow: 0 0 10px rgba(0,255,65,.6);
  padding: 4px 8px; cursor: pointer;
}
.window-body { padding: 16px 16px 12px 16px; }
.window-body section {
  padding: 12px; margin-bottom: 12px; border-radius: 10px;
  border: 1px solid rgba(0,255,65,.18);
  box-shadow: inset 0 0 18px rgba(0,255,65,.08);
}
.window-body h3 {
  margin: 0 0 8px; color: #bfffbf; font-weight: 600; letter-spacing: .1em;
  text-shadow: 0 0 10px rgba(0,255,65,.5);
}
.window-body p, .window-body li { color: #cfe; }
.window-body .links {
  display: flex; gap: 16px; justify-content: flex-end;
}
.window-body .links a {
  color: #caffd5; text-decoration: none; border-bottom: 1px dashed rgba(0,255,65,.35);
}
.window-body .links a:hover { color: white; text-shadow: 0 0 10px rgba(0,255,65,.7); }

.shortcuts { margin-top: 16px; }
.shortcuts .keys { border-collapse: collapse; width: 100%; max-width: 520px; }
.shortcuts .keys td { padding: 3px 0; vertical-align: top; color: #1f3; letter-spacing: .04em; }
.shortcuts .keys td:first-child { width: 170px; opacity: .85; }
.shortcuts kbd {
  display: inline-block;
  padding: 0 6px;
  border: 1px solid rgba(0,255,65,.35);
  border-radius: 6px;
  background: rgba(0,0,0,.25);
  color: #1f3;
  font: 12px "IBM Plex Mono", ui-monospace, monospace;
}
